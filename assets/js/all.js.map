{"version":3,"sources":["all.js","article.js","ChurchActivity-list.js","login.js"],"names":["BaseURl","logo","document","querySelector","expireMins","IsLogin","ShowLoginMessage","user","Swal","fire","title","text","icon","confirmButtonText","CheckLogin","setInterval","$","show","on","axios","post","tag","Photo","Title","val","SubTitle","then","response","console","log","data","error","datepicker","strHTML","ActivityListInit","get","ActivityRender","aryData","List","forEach","o","innerHTML","renderActivityList","alert","status","saveDataToLocalStorage","accessToken","time","Date","getTime","expire","topMenuInit","key","localStorage","setItem","JSON","stringify","getDataFromLocalStorage","parse","getItem"],"mappings":"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","file":"all.js","sourcesContent":["// const BaseURl = `https://json-server-vercel-seven.vercel.app/`\r\nconst BaseURl = `http://127.0.0.1:3000/`\r\n//https://json-server-vercel-a.vercel.app\r\n\r\n// const BaseURl = `http://localhost:3000/`\r\nconst logo = document.querySelector(\".logo\");\r\nconst expireMins = 30; //登入過期時間(分鐘)\r\nlet IsLogin = false\r\n\r\n\r\nfunction ShowLoginMessage(user){\r\n\r\n \r\n\r\n      Swal.fire({\r\n        title: ` 登入成功!`,\r\n        text: '',\r\n        icon: 'success',\r\n        confirmButtonText: 'OK'\r\n      })\r\n\r\n}\r\n\r\nfunction CheckLogin(){\r\n  setInterval(function(){\r\n    if(IsLogin){\r\n      // Swal.fire(\r\n      //   '成功登入！',\r\n      //   '',\r\n      //   'success'\r\n      // )\r\n\r\n\r\n      // Swal.fire({\r\n      //   title: '新增成功!',\r\n      //   text: '',\r\n      //   icon: 'success',\r\n      //   confirmButtonText: 'OK'\r\n      // })\r\n      $(\"ul.nav\").show()\r\n    }else{\r\n\r\n\r\n      // $(\"ul.nav\").hide()\r\n    }\r\n  },1000);\r\n}\r\n\r\n\r\n\r\nCheckLogin()"," \r\n\r\n$(\".postArticle\").on(\"click\",function(){\r\n \r\n    axios.post(`${BaseURl}Abouts`,{\r\n        tag: 'javascriptBasics@gmail.com',\r\n        Photo:'https://github.com/RayChen1996/js_hex_project-seed-church/blob/main/img/LINE_ALBUM_20161224%E7%A8%AE%E5%AD%90%E6%95%99%E6%9C%83%E8%81%96%E8%AA%95%E5%A4%9C%E7%9B%B8%E7%89%87_221127.jpg?raw=true',\r\n        Title: $(\"#activity-name\").val(),\r\n        SubTitle: \"2017-04-30\"\r\n    })\r\n        .then( (response) => {\r\n            console.log(response.data)\r\n\r\n            Swal.fire({\r\n                title: ` 新增成功!`,\r\n                text: '',\r\n                icon: 'success',\r\n                confirmButtonText: 'OK'\r\n              })\r\n        })\r\n        .catch( (error) => {\r\n            console.log(error)\r\n        })\r\n})\r\n\r\n\r\n$('#datepicker').datepicker();","let strHTML = '';//迴圈暫存字串變數\r\nfunction ActivityListInit(){\r\n    axios.get(`${BaseURl}Abouts`).then(function(response){\r\n        ActivityRender(response.data)\r\n    });\r\n    function ActivityRender(aryData){ \r\n        const List = document.querySelector(\".Activity\")\r\n        aryData.forEach(o=>{\r\n\r\n             strHTML += `\r\n                <div class=\"col\">\r\n                    <div class=\"card\" style=\"width: 18rem;\">\r\n                    <img src=\"${o.Photo}\" class=\"card-img-top\" alt=\"...\">\r\n                    <div class=\"card-body\">\r\n                        <h5 class=\"card-title\">${o.Title}</h5>\r\n                        <p class=\"card-text\">${o.SubTitle}</p>\r\n                        <a href=\"#\" class=\"btn btn-primary\">查看</a>\r\n                    </div>\r\n                    </div>\r\n                </div>\r\n             `\r\n\r\n        });\r\n      \r\n\r\n        List.innerHTML = strHTML\r\n    }\r\n}\r\n\r\nActivityListInit();\r\n\r\n\r\nfunction renderActivityList(){\r\n    strHTML = \"\"\r\n    axios.get(`${BaseURl}Abouts`).then(function(response){\r\n        console.log(response.data)\r\n        ActivityRender(response.data)\r\n    });\r\n\r\n    function ActivityRender(aryData){ \r\n        const List = document.querySelector(\".ActivityTbl tbody\")\r\n        aryData.forEach(o=>{\r\n\r\n             strHTML += `\r\n             <tr>\r\n                <th scope=\"row\">1</th>\r\n                <td>${o.Title}</td>\r\n                <td></td>\r\n                <td>${o.SubTitle}</td>\r\n                <td>                       \r\n                    <button class=\"btn btn-info\">編輯</button> | \r\n                    <button class=\"btn btn-danger\">編輯</button></td>\r\n            </tr>\r\n\r\n             `\r\n\r\n        });\r\n      \r\n\r\n        List.innerHTML = strHTML\r\n    }\r\n\r\n}\r\n","$(\".login\").on(\"click\",function(){\r\n \r\n    if($(\"#useracc\").val()==\"\" || $(\"#userpwd\").val()==\"\"  ){\r\n        alert(\"請輸入帳號或密碼\")\r\n        return;\r\n    }\r\n    axios.post(`${BaseURl}login`,{\r\n        \"email\":$(\"#useracc\").val(),\r\n        \"password\":$(\"#userpwd\").val()\r\n    })\r\n    .then( (response) => {\r\n    \r\n        if(response.status == 200){\r\n     \r\n            console.log(response.data)\r\n            saveDataToLocalStorage('_token', response.data.accessToken);\r\n            saveDataToLocalStorage('_user', response.data.user);\r\n            saveDataToLocalStorage('_expire', { time: new Date().getTime(), expire: expireMins * 60 * 1000 });\r\n\r\n\r\n\r\n            $(\".login\").val(\"登出\")\r\n\r\n            ShowLoginMessage(response.data.user)\r\n            // Swal.fire({\r\n            //     title: '新增成功!',\r\n            //     text: '',\r\n            //     icon: 'success',\r\n            //     confirmButtonText: 'OK'\r\n            //   })\r\n            IsLogin = true\r\n            // window.location.href = \"admin-page.html\"\r\n            topMenuInit()\r\n            \r\n            // ShowLoginMessage(response.data.user)\r\n\r\n        }else{\r\n\r\n\r\n\r\n            if(response.data==\"Email already exists\"){\r\n                alert(\"帳號已存在\")\r\n            }else{\r\n                // alert(response.status)\r\n            }\r\n\r\n        }\r\n        \r\n    })\r\n    .catch( (error) => {\r\n        // if(error.response.data==\"Email already exists\"){\r\n        //     alert(\"帳號已存在\")\r\n        // } else if(error.response.data==\"Cannot find user\"){\r\n        //     alert(\"帳號不存在\")\r\n        // }else{\r\n        //     alert(error.response.data)\r\n        // }\r\n        alert(error)\r\n    })\r\n\r\n    // window.location.href = \"admin-page.html\"\r\n})\r\n\r\n\r\n$(\".signup\").on('click',function(){\r\n\r\n\r\n\r\n\r\n\r\n    axios.post(`${BaseURl}signup`,{\r\n        \"email\":$(\"#useracc\").val(),\r\n        \"password\":$(\"#userpwd\").val(),\r\n        \"role\":\"\"\r\n    })\r\n    .then( (response) => {\r\n        if(response.status == 200){\r\n            alert(\"註冊成功\")\r\n        }else{\r\n            \r\n            if(response.data==\"Email already exists\"){\r\n                alert(\"帳號已存在\")\r\n            }else{\r\n                // alert(response.status)\r\n            }\r\n        }\r\n        console.log(response.data)\r\n     \r\n    })\r\n    .catch( (error) => {\r\n        if(error.response.data==\"Email already exists\"){\r\n            alert(\"帳號已存在\")\r\n        } else{\r\n\r\n        }\r\n        // alert(error)\r\n    })\r\n})\r\n\r\n\r\n\r\n$(\".mangerDemo\").on('click',function(){\r\n    $(\"#useracc\").val(\"admin@gmail.com\")\r\n    $(\"#userpwd\").val(\"123456\")\r\n})\r\n\r\n$(\".userDemo\").on('click',function(){\r\n    $(\"#useracc\").val(\"user@gmail.com\")\r\n    $(\"#userpwd\").val(\"0000\")\r\n})\r\n\r\n\r\nfunction topMenuInit(){\r\n    // if(IsLogin){\r\n    //     $(\"ul.nav\").show()\r\n    // }else{\r\n    //     $(\"ul.nav\").hide()\r\n    // }\r\n}\r\n\r\n\r\nfunction saveDataToLocalStorage(key, data) {\r\n    localStorage.setItem(key, JSON.stringify(data));\r\n}\r\n//get data from local storage\r\nfunction getDataFromLocalStorage(key) {\r\n    return JSON.parse(localStorage.getItem(key));\r\n}\r\n\r\ntopMenuInit()"]}